<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_08) on Thu May 08 14:33:30 EDT 2008 -->
<TITLE>
ConnectionPool
</TITLE>

<META NAME="keywords" CONTENT="edu.psu.citeseerx.corecom.ConnectionPool class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ConnectionPool";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../edu/psu/citeseerx/corecom/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/CompressedBlockOutputStream.html" title="class in edu.psu.citeseerx.corecom"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.InvalidLeaseRequest.html" title="class in edu.psu.citeseerx.corecom"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/psu/citeseerx/corecom/ConnectionPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.psu.citeseerx.corecom</FONT>
<BR>
Class ConnectionPool</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>edu.psu.citeseerx.corecom.ConnectionPool</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../edu/psu/citeseerx/corecom/ByteStreamConnectionPool.html" title="class in edu.psu.citeseerx.corecom">ByteStreamConnectionPool</A>, <A HREF="../../../../edu/psu/citeseerx/corecom/XStreamConnectionPool.html" title="class in edu.psu.citeseerx.corecom">XStreamConnectionPool</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>ConnectionPool</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
ConnectionPool manages client connections to a remote server host,
 where connections are of type ObjectTransferConnection.  As new
 connections are used, clients must return the connections to the pool
 where they can be reused by other objects, increasing performance by
 reducing the number of new connections that must be created.
 
 Objects that lease connections must specify the amount of time they plan
 to hold the object.  If the connection is not returned in time, it will
 be destroyed.  Lease times can be extended by calling the renew method.
 
 Idle connections are destroyed after expirationTime ms have passed.
 
 If a call to shutdown() is made, the pool will stop accepting new
 connections but it will continue to hold active connections until they are
 returned or they time out.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.InvalidLeaseRequest.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool.InvalidLeaseRequest</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.ShutdownException.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool.ShutdownException</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.net.InetAddress</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#serverHost">serverHost</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#serverPort">serverPort</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#ConnectionPool(java.net.InetAddress, int)">ConnectionPool</A></B>(java.net.InetAddress&nbsp;serverHost,
               int&nbsp;serverPort)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set up a new connection pool with default configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#ConnectionPool(java.net.InetAddress, int, long, boolean, int)">ConnectionPool</A></B>(java.net.InetAddress&nbsp;host,
               int&nbsp;port,
               long&nbsp;expirationTime,
               boolean&nbsp;useCompression,
               int&nbsp;compressedBlockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set up a new connection pool with the supplied configuration.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#countActiveConnections()">countActiveConnections</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of active connections in this ConnectionPool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#createConnectionImpl(boolean, int)">createConnectionImpl</A></B>(boolean&nbsp;useCompression,
                     int&nbsp;compressedBlockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subclasses must override to produce some implementation of
 an ObjectTransferConnection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#createFromConfiguration(edu.psu.citeseerx.corecom.ConnectionPoolConfiguration)">createFromConfiguration</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolConfiguration.html" title="class in edu.psu.citeseerx.corecom">ConnectionPoolConfiguration</A>&nbsp;conf)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory method for creating an appropriate ConnectionPool directly
 from configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#expire(edu.psu.citeseerx.corecom.ObjectTransferConnection)">expire</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shuts down an existing connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#getExpirationTime()">getExpirationTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of milliseconds it takes for idle
 connections to expire.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.net.InetAddress</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#getServerHost()">getServerHost</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the URL of the remote server whose connections
 this object pools.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#getServerPort()">getServerPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the remote server port whose connections this object pools.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#invalidate(edu.psu.citeseerx.corecom.ObjectTransferConnection)">invalidate</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used when a client of this class knows that a connection it is leasing
 is bad.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#isShutdown()">isShutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this ConnectionPool has shut down or
 is in the process of shutting down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#isUsingCompression()">isUsingCompression</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this ConnectionPool is compressing it's messages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#leaseConnection(long)">leaseConnection</A></B>(long&nbsp;time)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Leases an ObjectTransferConnection from the pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#registerMonitor(edu.psu.citeseerx.corecom.ConnectionPoolMonitor)">registerMonitor</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolMonitor.html" title="interface in edu.psu.citeseerx.corecom">ConnectionPoolMonitor</A>&nbsp;cpm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a class that will listen for events in this ConnectionPool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#removeMonitor(edu.psu.citeseerx.corecom.ConnectionPoolMonitor)">removeMonitor</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolMonitor.html" title="interface in edu.psu.citeseerx.corecom">ConnectionPoolMonitor</A>&nbsp;cpm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a monitor from the list of monitors.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#renew(edu.psu.citeseerx.corecom.ObjectTransferConnection, long)">renew</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection,
      long&nbsp;time)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tries to add more time to an existing lease.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#returnConnection(edu.psu.citeseerx.corecom.ObjectTransferConnection)">returnConnection</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unlocks the specified connection, returning it to the pool of 
 available connections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#setExpirationTime(long)">setExpirationTime</A></B>(long&nbsp;expirationTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the time it takes for idle connections to expire,
 in milliseconds.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#setStatusReqTimeout(int)">setStatusReqTimeout</A></B>(int&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the read timeout for status requests for new
 ObjectTransferConnections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#shutdown()">shutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stops ConnectionPool from leasing any more connections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html#validate(edu.psu.citeseerx.corecom.ObjectTransferConnection)">validate</A></B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates a given connection.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="serverHost"><!-- --></A><H3>
serverHost</H3>
<PRE>
protected final java.net.InetAddress <B>serverHost</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="serverPort"><!-- --></A><H3>
serverPort</H3>
<PRE>
protected final int <B>serverPort</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ConnectionPool(java.net.InetAddress, int)"><!-- --></A><H3>
ConnectionPool</H3>
<PRE>
public <B>ConnectionPool</B>(java.net.InetAddress&nbsp;serverHost,
                      int&nbsp;serverPort)</PRE>
<DL>
<DD>Set up a new connection pool with default configuration.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>host</CODE> - remote server host.<DD><CODE>port</CODE> - remote server port.</DL>
</DL>
<HR>

<A NAME="ConnectionPool(java.net.InetAddress, int, long, boolean, int)"><!-- --></A><H3>
ConnectionPool</H3>
<PRE>
public <B>ConnectionPool</B>(java.net.InetAddress&nbsp;host,
                      int&nbsp;port,
                      long&nbsp;expirationTime,
                      boolean&nbsp;useCompression,
                      int&nbsp;compressedBlockSize)</PRE>
<DL>
<DD>Set up a new connection pool with the supplied configuration.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>host</CODE> - remote server host.<DD><CODE>port</CODE> - remote server port.<DD><CODE>expirationTime</CODE> - timeout on idle connections in ms.  If <= 0 is
 specified, default expirationTime is used.<DD><CODE>useCompression</CODE> - whether to use gzip compression.<DD><CODE>compressedBlockSize</CODE> - if using compression, the amount of data
 to buffer before compressing.  If <= 0 is specified, default
 compressedBlockSize is used.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createFromConfiguration(edu.psu.citeseerx.corecom.ConnectionPoolConfiguration)"><!-- --></A><H3>
createFromConfiguration</H3>
<PRE>
public static <A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool</A> <B>createFromConfiguration</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolConfiguration.html" title="class in edu.psu.citeseerx.corecom">ConnectionPoolConfiguration</A>&nbsp;conf)
                                              throws java.lang.RuntimeException</PRE>
<DL>
<DD>Factory method for creating an appropriate ConnectionPool directly
 from configuration.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conf</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.lang.RuntimeException</CODE> - if the specified ConnectionPool type is
 unknown</DL>
</DD>
</DL>
<HR>

<A NAME="createConnectionImpl(boolean, int)"><!-- --></A><H3>
createConnectionImpl</H3>
<PRE>
protected abstract <A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A> <B>createConnectionImpl</B>(boolean&nbsp;useCompression,
                                                                 int&nbsp;compressedBlockSize)
                                                          throws java.io.IOException</PRE>
<DL>
<DD>Subclasses must override to produce some implementation of
 an ObjectTransferConnection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="validate(edu.psu.citeseerx.corecom.ObjectTransferConnection)"><!-- --></A><H3>
validate</H3>
<PRE>
protected boolean <B>validate</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)
                    throws java.io.IOException,
                           java.lang.ClassNotFoundException,
                           <A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.InvalidException.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection.InvalidException</A></PRE>
<DL>
<DD>Validates a given connection.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>java.lang.ClassNotFoundException</CODE>
<DD><CODE><A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.InvalidException.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection.InvalidException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="expire(edu.psu.citeseerx.corecom.ObjectTransferConnection)"><!-- --></A><H3>
expire</H3>
<PRE>
protected void <B>expire</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</PRE>
<DL>
<DD>Shuts down an existing connection.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="countActiveConnections()"><!-- --></A><H3>
countActiveConnections</H3>
<PRE>
public int <B>countActiveConnections</B>()</PRE>
<DL>
<DD>Returns the number of active connections in this ConnectionPool.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown()"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>()</PRE>
<DL>
<DD>Stops ConnectionPool from leasing any more connections.  Active
 connections will continue to be valid until they are returned to
 the pool.  When all connections are returned, a finalization
 message will be sent to any monitors.  A thread is spawned that
 will destroy any active connections whose lease expires.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="leaseConnection(long)"><!-- --></A><H3>
leaseConnection</H3>
<PRE>
public <A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A> <B>leaseConnection</B>(long&nbsp;time)
                                         throws java.lang.Exception</PRE>
<DL>
<DD>Leases an ObjectTransferConnection from the pool.  This method
 checks the idle time of existing connections and expires connections
 that are older than expirationTime.  Available connections are
 checked against the validate method to make sure that they work
 before being handed off.  If no available connections exist, a new
 one is created.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>time</CODE> - the time for which the connection will be leased. Specify
 a negative value to lease forever.
<DT><B>Returns:</B><DD>an ObjectTransferConnection from the pool.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.ShutdownException.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool.ShutdownException</A></CODE>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="renew(edu.psu.citeseerx.corecom.ObjectTransferConnection, long)"><!-- --></A><H3>
renew</H3>
<PRE>
public void <B>renew</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection,
                  long&nbsp;time)
           throws java.lang.Exception</PRE>
<DL>
<DD>Tries to add more time to an existing lease.  Locks the leased table
 during the method call.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - connection to be renewed.<DD><CODE>time</CODE> - time (from now) to extend the lease.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.ShutdownException.html" title="class in edu.psu.citeseerx.corecom">ConnectionPool.ShutdownException</A></CODE> - connection to be renewed is not in the leased table.
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="invalidate(edu.psu.citeseerx.corecom.ObjectTransferConnection)"><!-- --></A><H3>
invalidate</H3>
<PRE>
public void <B>invalidate</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</PRE>
<DL>
<DD>Used when a client of this class knows that a connection it is leasing
 is bad.  This call removes the connection from the leased table and
 expires it.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="returnConnection(edu.psu.citeseerx.corecom.ObjectTransferConnection)"><!-- --></A><H3>
returnConnection</H3>
<PRE>
public void <B>returnConnection</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ObjectTransferConnection.html" title="class in edu.psu.citeseerx.corecom">ObjectTransferConnection</A>&nbsp;connection)</PRE>
<DL>
<DD>Unlocks the specified connection, returning it to the pool of 
 available connections.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="registerMonitor(edu.psu.citeseerx.corecom.ConnectionPoolMonitor)"><!-- --></A><H3>
registerMonitor</H3>
<PRE>
public void <B>registerMonitor</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolMonitor.html" title="interface in edu.psu.citeseerx.corecom">ConnectionPoolMonitor</A>&nbsp;cpm)</PRE>
<DL>
<DD>Registers a class that will listen for events in this ConnectionPool.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cpm</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="removeMonitor(edu.psu.citeseerx.corecom.ConnectionPoolMonitor)"><!-- --></A><H3>
removeMonitor</H3>
<PRE>
public void <B>removeMonitor</B>(<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPoolMonitor.html" title="interface in edu.psu.citeseerx.corecom">ConnectionPoolMonitor</A>&nbsp;cpm)</PRE>
<DL>
<DD>Removes a monitor from the list of monitors.  If the monitor is not
 in the list, nothing is done.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cpm</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getExpirationTime()"><!-- --></A><H3>
getExpirationTime</H3>
<PRE>
public long <B>getExpirationTime</B>()</PRE>
<DL>
<DD>Returns the number of milliseconds it takes for idle
 connections to expire.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setExpirationTime(long)"><!-- --></A><H3>
setExpirationTime</H3>
<PRE>
public void <B>setExpirationTime</B>(long&nbsp;expirationTime)</PRE>
<DL>
<DD>Sets the time it takes for idle connections to expire,
 in milliseconds.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setStatusReqTimeout(int)"><!-- --></A><H3>
setStatusReqTimeout</H3>
<PRE>
public void <B>setStatusReqTimeout</B>(int&nbsp;timeout)</PRE>
<DL>
<DD>Sets the read timeout for status requests for new
 ObjectTransferConnections.  If <= 0 is specified, the default
 timeout in the ObjectTransferConnection implementation is used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="isUsingCompression()"><!-- --></A><H3>
isUsingCompression</H3>
<PRE>
public boolean <B>isUsingCompression</B>()</PRE>
<DL>
<DD>Returns whether this ConnectionPool is compressing it's messages.
<P>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getServerHost()"><!-- --></A><H3>
getServerHost</H3>
<PRE>
public java.net.InetAddress <B>getServerHost</B>()</PRE>
<DL>
<DD>Returns the URL of the remote server whose connections
 this object pools.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getServerPort()"><!-- --></A><H3>
getServerPort</H3>
<PRE>
public int <B>getServerPort</B>()</PRE>
<DL>
<DD>Returns the remote server port whose connections this object pools.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isShutdown()"><!-- --></A><H3>
isShutdown</H3>
<PRE>
public boolean <B>isShutdown</B>()</PRE>
<DL>
<DD>Returns whether this ConnectionPool has shut down or
 is in the process of shutting down.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../edu/psu/citeseerx/corecom/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/CompressedBlockOutputStream.html" title="class in edu.psu.citeseerx.corecom"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/psu/citeseerx/corecom/ConnectionPool.InvalidLeaseRequest.html" title="class in edu.psu.citeseerx.corecom"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/psu/citeseerx/corecom/ConnectionPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ConnectionPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
