<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>9.&nbsp;Release 1.2.0 - 11/16/2004</title><link href="../docbook.css" rel="stylesheet" type="text/css"><meta content="DocBook XSL Stylesheets V1.67.2" name="generator"><link rel="start" href="index.html" title="Heritrix Release Notes"><link rel="up" href="index.html" title="Heritrix Release Notes"><link rel="prev" href="1_4_0.html" title="8.&nbsp;Release 1.4.0 - 04/28/2005"><link rel="next" href="1_0_4.html" title="10.&nbsp;Release 1.0.4 - 2004-09-22"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">9.&nbsp;Release 1.2.0 - 11/16/2004</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="1_4_0.html">Prev</a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="1_0_4.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="1_2_0"></a>9.&nbsp;Release 1.2.0 - 11/16/2004</h2></div></div></div><div class="abstract"><p class="title"><b>Abstract</b></p><p>Added IP-based politeness, configurable URI-canonicalization, and
      mid-fetch abort. Lots of Bug fixes.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="1_2_0_limitations"></a>9.1.&nbsp;Known Limitations</h3></div></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="ibmjvm"></a>9.1.1.&nbsp;IBM JVM</h4></div></div></div><p>The IBM JVM generally is more performant than SUN JVMs. It also
        emits more detailed heap dumps. That said, new Heritrix 1.2.0 features
        may not work on the IBM JVM.</p><div class="sect4" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="ibmhttps"></a>9.1.1.1.&nbsp;HTTPS</h5></div></div></div><p>Heritrix 1.2.0 uses the new HttpClient 3.0x library which
          allows the setting of socket read timeouts. Connections to https
          sites fail if using the IBM JVM.</p><p>The IBM JVM 141 (cxia321411-20030930) NPEs setting the
          NoTcpDelay. <pre class="programlisting">
java.lang.NullPointerException
   at com.ibm.jsse.bf.setTcpNoDelay(Unknown Source)
   at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:683)
   at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1328)</pre></p><p>Using the IBM JVM 142, its saying SSL connection not open when
          we go to use inputstreams: <pre class="programlisting">
java.net.SocketException: Socket is not connected
   at java.net.Socket.getInputStream(Socket.java:726)     at com.ibm.jsse.bs.getInputStream(Unknown Source)
   at org.apache.commons.httpclient.HttpConnection.open(HttpConnection.java:715)
   at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.open(MultiThreadedHttpConnectionManager.java:1328)</pre></p><p>Newer versions of the httpclient library may address this
          (Current version is alpha2).</p></div></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="lostjobs"></a>9.1.2.&nbsp;Jobs don't show in UI when a bunch are run back-to-back</h4></div></div></div><p>If more than one job waiting in the queue of pending jobs, then
        the second job often won't show in the UI; The UI says its running but
        its not possible to see a status bar on the running job. See <a href="https://sourceforge.net/tracker/?func=detail&aid=1024120&group_id=73833&atid=539099" target="_top">[
        1024120 ] Lost crawl job after terminate running job with jobs
        pending</a>. For now, the workaround is to study the running job
        by viewing the crawl job logs on disk (Oddly, the 3rd queued up job
        will start to show in the UI again).</p></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="oome_pending_jobs"></a>9.1.3.&nbsp;Running more than one job in series throws OOME</h4></div></div></div><p>OutOfMemoryExceptions are frequent when jobs are run in series.
        <a href="https://sourceforge.net/tracker/index.php?func=detail&aid=1055592&group_id=73833&atid=539099" target="_top">[
        1055592 ] terminated crawl still hogging memory, causing OOM</a>.
        For now, restart Heritrix between the running of jobs.</p></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="1_2_0_changes"></a>9.2.&nbsp;Changes</h3></div></div></div><p><div class="table"><a name="N11CA8"></a><p class="title"><b>Table&nbsp;7.&nbsp;Changes</b></p><table summary="Changes" border="1"><colgroup><col><col><col><col><col></colgroup><thead><tr><th>ID</th><th>Type</th><th>Summary</th><th>Open Date</th><th>By</th></tr></thead><tbody><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1067095" target="_top">1067095</a></td><td>Add</td><td>Hang in http fetcher when mid-fetch aborts</td><td>2004-11-15</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1066804" target="_top">1066804</a></td><td>Add</td><td>Allow specification of heritrix_out.log
                filename</td><td>2004-11-15</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=903845" target="_top">903845</a></td><td>Add</td><td>IP-based politeness</td><td>2004-10-28</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1054849" target="_top">1054849</a></td><td>Add</td><td>Recover from crawl initialized with a recovery
                log</td><td>2004-10-26</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1054851" target="_top">1054851</a></td><td>Add</td><td>Import gzipped or non-gzipped recovery log</td><td>2004-10-26</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1050378" target="_top">1050378</a></td><td>Add</td><td>Add bdb alreadyseen option to
                hostsqueuesfrontier</td><td>2004-10-19</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=973881" target="_top">973881</a></td><td>Add</td><td>Force generation of report files</td><td>2004-06-16</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1010883" target="_top">1010883</a></td><td>Add</td><td>Scripts to generate end-of-job reports</td><td>2004-08-17</td><td>danavery</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=988277" target="_top">988277</a></td><td>Add</td><td>[Need feedback] "Done with ARC file" event</td><td>2004-07-09</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1044977" target="_top">1044977</a></td><td>Add</td><td>Logging of scope-rejected URIs</td><td>2004-10-11</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=902970" target="_top">902970</a></td><td>Add</td><td>HTTPClient should use supplied IP / avoid DNS
                lookup</td><td>2004-02-23</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=903093" target="_top">903093</a></td><td>Add</td><td>Setting of Integer.MAX_VALUE is ugly</td><td>2004-02-23</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=900004" target="_top">900004</a></td><td>Add</td><td>canonicalization of URIs for alreadyIncluded
                testing</td><td>2004-02-18</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=941072" target="_top">941072</a></td><td>Add</td><td>Allow operator-configured mid-HTTP-fetch
                filters</td><td>2004-04-23</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1037891" target="_top">1037891</a></td><td>Add</td><td>Cmdline defaults in properties file</td><td>2004-09-30</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1037304" target="_top">1037304</a></td><td>Add</td><td>Upgrade httpclient to 3.0.x</td><td>2004-09-29</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=994141" target="_top">994141</a></td><td>Add</td><td>Update build to use maven 1.0</td><td>2004-07-19</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539102&aid=1002336" target="_top">1002336</a></td><td>Add</td><td>Figure what profiler to use</td><td>2004-08-02</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1064887" target="_top">1064887</a></td><td>Fix</td><td>http and https prerequisites contention</td><td>2004-11-11</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1062604" target="_top">1062604</a></td><td>Fix</td><td>Seed to SURT coversion issuesI</td><td>22004-11-08</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=11061795" target="_top">11061795</a></td><td>Fix</td><td>ServerCache HashMaps access thread-safetyI</td><td>22004-11-06</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1060589" target="_top">1060589</a></td><td>Fix</td><td>Can't open logs of old jobs post-restart in UII</td><td>22004-11-04</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1058565" target="_top">1058565</a></td><td>Fix</td><td>Non-default 'logs' location doesn't show in web
                UI</td><td>2004-11-010</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1058568" target="_top">1058568</a></td><td>Fix</td><td>IMG 'lowsrc' may not be extracted</td><td>2004-11-010</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1055854" target="_top">1055854</a></td><td>Fix</td><td>completed crawls show as 'aborted by user'</td><td>2004-10-270</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1059237" target="_top">1059237</a></td><td>Fix</td><td>MultiThreadedHttpConnectionManager https already
                connected</td><td>2004-11-020</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1052578" target="_top">1052578</a></td><td>Fix</td><td>recovery log of recovered crawl insufficient to
                recover</td><td>2004-10-220</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=908690" target="_top">908690</a></td><td>Fix</td><td>Some dates are GMT, others are not *</td><td>2004-03-020</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=958096" target="_top">958096</a></td><td>Fix</td><td>Flushing CrawlServers problematic *</td><td>2004-05-210</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1052570" target="_top">1052570</a></td><td>Fix</td><td>Threads contend for scratch files (after
                kill/readFully/Gap)</td><td>2004-10-220</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1033701" target="_top">1033701</a></td><td>Fix</td><td>incorrect number of total active threads *</td><td>2004-09-230</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1000840" target="_top">1000840</a></td><td>Fix</td><td>diskincludedfrontier performance is awful</td><td>2004-07-30</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1043251" target="_top">1043251</a></td><td>Fix</td><td>better/longer dns retries on lookup failure</td><td>2004-10-08</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1051072" target="_top">1051072</a></td><td>Fix</td><td>ExtractorHTML takes forever on worst-case HTML</td><td>2004-10-20</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1051916" target="_top">1051916</a></td><td>Fix</td><td>ExtractorJS takes forever on worst-case JS</td><td>2004-10-21</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1050238" target="_top">1050238</a></td><td>Fix</td><td>jdk required (doc implies jre)</td><td>2004-10-19</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1038135" target="_top">1038135</a></td><td>Fix</td><td>prerequisite hysteresis/robots ahead of dns</td><td>2004-09-30</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1015728" target="_top">1015728</a></td><td>Fix</td><td>Crawl upper time/size bounds ignored</td><td>2004-08-24</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1002356" target="_top">1002356</a></td><td>Fix</td><td>timing issue on crawl-start &amp; run-time stat</td><td>2004-08-02</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1002332" target="_top">1002332</a></td><td>Fix</td><td>inactiveQueuesMemoryLoadTarget mechanism behaves
                poorly</td><td>2004-08-02</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1045016" target="_top">1045016</a></td><td>Fix</td><td>DNS URIs don't get override settings</td><td>2004-10-11</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=998184" target="_top">998184</a></td><td>Fix</td><td>Gzipped recover log corrupt at end; last &lt; 32K
                unrecoverable</td><td>2004-07-26</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=998272" target="_top">998272</a></td><td>Fix</td><td>No crawl if host-queues-memory-capacity = 0</td><td>2004-07-26</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1002335" target="_top">1002335</a></td><td>Fix</td><td>frontier report unusable in big crawls; frontier info
                needed</td><td>2004-08-02</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=984390" target="_top">984390</a></td><td>Fix</td><td>Build fails: "rws" mode and Mac OS X interact
                badly</td><td>2004-07-02</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1000929" target="_top">1000929</a></td><td>Fix</td><td>fatal runtimeexceptions in frontier give no info in web
                UI</td><td>2004-07-30</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=964625" target="_top">964625</a></td><td>Fix</td><td>seed parser *too* lenient</td><td>2004-06-01</td><td>johnerik</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=980051" target="_top">980051</a></td><td>Fix</td><td>Auth unsupported logged to console</td><td>2004-06-25</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1002146" target="_top">1002146</a></td><td>Fix</td><td>bad queue keys: shouldn't be URIs; should be handled
                better</td><td>2004-08-02</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1046696" target="_top">1046696</a></td><td>Fix</td><td>UURIFactory.validateEscaping() -&gt;
                IllegalArgumentException</td><td>2004-10-13</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1045736" target="_top">1045736</a></td><td>Fix</td><td>ARCReader crashes if zero-length gzip record</td><td>2004-10-12</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1002144" target="_top">1002144</a></td><td>Fix</td><td>[UURI] Catch bad-encoding earlier</td><td>2004-08-02</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1036680" target="_top">1036680</a></td><td>Fix</td><td>PathDepthFilter innerAccepts SEVERE log: "Failed
                getPath..."</td><td>2004-09-28</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1045847" target="_top">1045847</a></td><td>Fix</td><td>Unnecessary toString() in
                ExtractorHTML.processScriptCode()</td><td>2004-10-12</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1044527" target="_top">1044527</a></td><td>Fix</td><td>Domain names in 'overrides' are not in alphabetical
                order</td><td>2004-10-11</td><td>kristinn_sig</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1012639" target="_top">1012639</a></td><td>Fix</td><td>If CC timesout selftest, no build failed
                message</td><td>2004-08-19</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1012642" target="_top">1012642</a></td><td>Fix</td><td>selftest hanging because no crawl stop event</td><td>2004-08-19</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=931565" target="_top">931565</a></td><td>Fix</td><td>CrawlStateUpdater - NullPointerException</td><td>2004-04-08</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=973294" target="_top">973294</a></td><td>Fix</td><td>NoSuchElementException in URI queues halts
                crawling</td><td>2004-06-15</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1033657" target="_top">1033657</a></td><td>Fix</td><td>[UURI] &gt;2047 AFTER escaping (Stops crawl)</td><td>2004-09-23</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1010966" target="_top">1010966</a></td><td>Fix</td><td>crawl.log has URIs with spaces in them</td><td>2004-08-17</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=963970" target="_top">963970</a></td><td>Fix</td><td>unfetchable URI schemes should never be queued</td><td>2004-05-31</td><td>gojomo</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1031607" target="_top">1031607</a></td><td>Fix</td><td>KeyedQueue server&lt;-&gt;key mismatch noted:
                pfbuser&lt;-&gt;mprsrv.agr</td><td>2004-09-20</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1031525" target="_top">1031525</a></td><td>Fix</td><td>NPE reading override</td><td>2004-09-20</td><td>stack-sf</td></tr><tr><td><a href="http://sourceforge.net/tracker/index.php?func=detail&group_id=73833&atid=539099&aid=1031168" target="_top">1031168</a></td><td>Fix</td><td>Wrong handling of date in ARCRecordMetaData</td><td>2004-09-20</td><td>johnerik</td></tr></tbody></table></div></p></div></div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="1_4_0.html">Prev</a>&nbsp;</td><td align="center" width="20%">&nbsp;</td><td align="right" width="40%">&nbsp;<a accesskey="n" href="1_0_4.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">8.&nbsp;Release 1.4.0 - 04/28/2005&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;10.&nbsp;Release 1.0.4 - 2004-09-22</td></tr></table></div></body></html>